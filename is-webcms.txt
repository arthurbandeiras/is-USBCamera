#Para travar a regulação automática de framerate

# 1. Modo Manual
v4l2-ctl -d /dev/video0 --set-ctrl=auto_exposure=1

# 2. Desativar ajuste dinâmico
v4l2-ctl -d /dev/video0 --set-ctrl=exposure_dynamic_framerate=0

# 3. Definir exposição fixa
v4l2-ctl -d /dev/video0 --set-ctrl=exposure_time_absolute=300

# listar para verificar as alterações
v4l2-ctl -d /dev/video0 --list-ctrls

# Para set dos valores de trabalho da camera

v4l2-ctl -d /dev/video0 --set-fmt-video=width=1920,height=1080,pixelformat=MJPG  #resolução
v4l2-ctl -d /dev/video0 --set-parm=30						#fps



#para set da câmera virtual

sudo modprobe -r v4l2loopback || true

#sudo apt update
#sudo apt install -y raspberrypi-kernel-headers build-essential git dkms ffmpeg v4l-utils
#rm -rf ~/v4l2loopback
#git clone https://github.com/umlaeute/v4l2loopback.git ~/v4l2loopback
#cd ~/v4l2loopback

v4l2-ctl --list-devices
# procure o dispositivo atrelado ao loopback ex.: /dev/video17

sudo modprobe -r v4l2loopback
sudo modprobe v4l2loopback video_nr=17 card_label="LoopbackCam" exclusive_caps=1 max_buffers=3 latency=0
ffmpeg -f v4l2 -input_format mjpeg -framerate 30 -video_size 1920x1080 -i /dev/video0 -c:v copy -f v4l2 /dev/video17



#depois, rodar service.py
